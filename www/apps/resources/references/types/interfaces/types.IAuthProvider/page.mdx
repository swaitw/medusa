import { TypeList } from "docs-ui"

# IAuthProvider

## Overview

Authentication provider interface for the auth module.

## Properties

<TypeList types={[{"name":"update","type":"(`data`: `Record<string, unknown>`, `authIdentityProviderService`: [AuthIdentityProviderService](../types.AuthIdentityProviderService/page.mdx)) => Promise&#60;[AuthenticationResponse](../types.AuthenticationResponse/page.mdx)&#62;","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]}]} expandUrl="https://docs.medusajs.com/learn/fundamentals/data-models/manage-relationships#retrieve-records-of-relation" sectionTitle="IAuthProvider"/>

___

## Methods

### authenticate

#### Parameters

<TypeList types={[{"name":"data","type":"[AuthenticationInput](../types.AuthenticationInput/page.mdx)","description":"The data passed to the auth provider when authenticating a user\nor validating a callback.","optional":false,"defaultValue":"","expandable":false,"children":[{"name":"url","type":"`string`","description":"URL of the incoming authentication request.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"headers","type":"`Record<string, string>`","description":"Headers of incoming authentication request.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"query","type":"`Record<string, string>`","description":"Query params of the incoming authentication request.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"body","type":"`Record<string, string>`","description":"Body of the incoming authentication request.\n\nOne of the arguments that is suggested to be treated in a standard manner is a `callback_url` field.\nThe field specifies where the user is redirected to after a successful authentication in the case of Oauth auhentication.\nIf not passed, the provider will fallback to the callback\\_url provided in the provider options.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"protocol","type":"`string`","description":"Protocol of the incoming authentication request (For example, `https`).","optional":true,"defaultValue":"","expandable":false,"children":[]}]},{"name":"authIdentityProviderService","type":"[AuthIdentityProviderService](../types.AuthIdentityProviderService/page.mdx)","description":"","optional":false,"defaultValue":"","expandable":false,"children":[{"name":"retrieve","type":"(`selector`: ``{ entity_id: string  }``) => Promise&#60;[AuthIdentityDTO](../../../auth/interfaces/auth.AuthIdentityDTO/page.mdx)&#62;","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"create","type":"(`data`: ``{ entity_id: string ; provider_metadata?: Record&#60;string, unknown&#62; ; user_metadata?: Record&#60;string, unknown&#62;  }``) => Promise&#60;[AuthIdentityDTO](../../../auth/interfaces/auth.AuthIdentityDTO/page.mdx)&#62;","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"update","type":"(`entity_id`: `string`, `data`: ``{ provider_metadata?: Record&#60;string, unknown&#62; ; user_metadata?: Record&#60;string, unknown&#62;  }``) => Promise&#60;[AuthIdentityDTO](../../../auth/interfaces/auth.AuthIdentityDTO/page.mdx)&#62;","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"setState","type":"(`key`: `string`, `value`: `Record<string, unknown>`) => Promise&#60;void&#62;","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"getState","type":"(`key`: `string`) => Promise&#60;null \\| Record&#60;string, unknown&#62;&#62;","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]}]}]} expandUrl="https://docs.medusajs.com/learn/fundamentals/data-models/manage-relationships#retrieve-records-of-relation" sectionTitle="authenticate"/>

#### Returns

<TypeList types={[{"name":"Promise","type":"Promise&#60;[AuthenticationResponse](../types.AuthenticationResponse/page.mdx)&#62;","optional":false,"defaultValue":"","description":"","expandable":false,"children":[{"name":"AuthenticationResponse","type":"[AuthenticationResponse](../types.AuthenticationResponse/page.mdx)","optional":false,"defaultValue":"","description":"The details of the authentication response.","expandable":false,"children":[{"name":"success","type":"`boolean`","description":"Whether the authentication was successful.","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"authIdentity","type":"[AuthIdentityDTO](../../../auth/interfaces/auth.AuthIdentityDTO/page.mdx)","description":"The authenticated user's details.","optional":true,"defaultValue":"","expandable":false,"children":[{"name":"id","type":"`string`","description":"The ID of the auth identity.","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"provider_identities","type":"[ProviderIdentityDTO](../../../auth/interfaces/auth.ProviderIdentityDTO/page.mdx)[]","description":"The list of provider identities linked to the auth identity.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"app_metadata","type":"`Record<string, unknown>`","description":"Holds information related to the actor IDs tied to the auth identity.","optional":true,"defaultValue":"","expandable":false,"children":[]}]},{"name":"error","type":"`string`","description":"If an error occurs during the authentication process,\nwhether within the Auth Module or a third-party provider,\nthe error message is set in this field.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"location","type":"`string`","description":"The URL to redirect to for further authentication action\nwith a third-party provider. This takes precedence before\nthe `success` field.\n\nSo, after checking that authentication is successful,\nyou should check whether this field is defined and, if so, redirect to the\nspecified location.","optional":true,"defaultValue":"","expandable":false,"children":[]}]}]}]} expandUrl="https://docs.medusajs.com/learn/fundamentals/data-models/manage-relationships#retrieve-records-of-relation" sectionTitle="authenticate"/>

### register

#### Parameters

<TypeList types={[{"name":"data","type":"[AuthenticationInput](../types.AuthenticationInput/page.mdx)","description":"The data passed to the auth provider when authenticating a user\nor validating a callback.","optional":false,"defaultValue":"","expandable":false,"children":[{"name":"url","type":"`string`","description":"URL of the incoming authentication request.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"headers","type":"`Record<string, string>`","description":"Headers of incoming authentication request.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"query","type":"`Record<string, string>`","description":"Query params of the incoming authentication request.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"body","type":"`Record<string, string>`","description":"Body of the incoming authentication request.\n\nOne of the arguments that is suggested to be treated in a standard manner is a `callback_url` field.\nThe field specifies where the user is redirected to after a successful authentication in the case of Oauth auhentication.\nIf not passed, the provider will fallback to the callback\\_url provided in the provider options.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"protocol","type":"`string`","description":"Protocol of the incoming authentication request (For example, `https`).","optional":true,"defaultValue":"","expandable":false,"children":[]}]},{"name":"authIdentityProviderService","type":"[AuthIdentityProviderService](../types.AuthIdentityProviderService/page.mdx)","description":"","optional":false,"defaultValue":"","expandable":false,"children":[{"name":"retrieve","type":"(`selector`: ``{ entity_id: string  }``) => Promise&#60;[AuthIdentityDTO](../../../auth/interfaces/auth.AuthIdentityDTO/page.mdx)&#62;","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"create","type":"(`data`: ``{ entity_id: string ; provider_metadata?: Record&#60;string, unknown&#62; ; user_metadata?: Record&#60;string, unknown&#62;  }``) => Promise&#60;[AuthIdentityDTO](../../../auth/interfaces/auth.AuthIdentityDTO/page.mdx)&#62;","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"update","type":"(`entity_id`: `string`, `data`: ``{ provider_metadata?: Record&#60;string, unknown&#62; ; user_metadata?: Record&#60;string, unknown&#62;  }``) => Promise&#60;[AuthIdentityDTO](../../../auth/interfaces/auth.AuthIdentityDTO/page.mdx)&#62;","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"setState","type":"(`key`: `string`, `value`: `Record<string, unknown>`) => Promise&#60;void&#62;","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"getState","type":"(`key`: `string`) => Promise&#60;null \\| Record&#60;string, unknown&#62;&#62;","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]}]}]} expandUrl="https://docs.medusajs.com/learn/fundamentals/data-models/manage-relationships#retrieve-records-of-relation" sectionTitle="register"/>

#### Returns

<TypeList types={[{"name":"Promise","type":"Promise&#60;[AuthenticationResponse](../types.AuthenticationResponse/page.mdx)&#62;","optional":false,"defaultValue":"","description":"","expandable":false,"children":[{"name":"AuthenticationResponse","type":"[AuthenticationResponse](../types.AuthenticationResponse/page.mdx)","optional":false,"defaultValue":"","description":"The details of the authentication response.","expandable":false,"children":[{"name":"success","type":"`boolean`","description":"Whether the authentication was successful.","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"authIdentity","type":"[AuthIdentityDTO](../../../auth/interfaces/auth.AuthIdentityDTO/page.mdx)","description":"The authenticated user's details.","optional":true,"defaultValue":"","expandable":false,"children":[{"name":"id","type":"`string`","description":"The ID of the auth identity.","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"provider_identities","type":"[ProviderIdentityDTO](../../../auth/interfaces/auth.ProviderIdentityDTO/page.mdx)[]","description":"The list of provider identities linked to the auth identity.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"app_metadata","type":"`Record<string, unknown>`","description":"Holds information related to the actor IDs tied to the auth identity.","optional":true,"defaultValue":"","expandable":false,"children":[]}]},{"name":"error","type":"`string`","description":"If an error occurs during the authentication process,\nwhether within the Auth Module or a third-party provider,\nthe error message is set in this field.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"location","type":"`string`","description":"The URL to redirect to for further authentication action\nwith a third-party provider. This takes precedence before\nthe `success` field.\n\nSo, after checking that authentication is successful,\nyou should check whether this field is defined and, if so, redirect to the\nspecified location.","optional":true,"defaultValue":"","expandable":false,"children":[]}]}]}]} expandUrl="https://docs.medusajs.com/learn/fundamentals/data-models/manage-relationships#retrieve-records-of-relation" sectionTitle="register"/>

### validateCallback

#### Parameters

<TypeList types={[{"name":"data","type":"[AuthenticationInput](../types.AuthenticationInput/page.mdx)","description":"The data passed to the auth provider when authenticating a user\nor validating a callback.","optional":false,"defaultValue":"","expandable":false,"children":[{"name":"url","type":"`string`","description":"URL of the incoming authentication request.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"headers","type":"`Record<string, string>`","description":"Headers of incoming authentication request.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"query","type":"`Record<string, string>`","description":"Query params of the incoming authentication request.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"body","type":"`Record<string, string>`","description":"Body of the incoming authentication request.\n\nOne of the arguments that is suggested to be treated in a standard manner is a `callback_url` field.\nThe field specifies where the user is redirected to after a successful authentication in the case of Oauth auhentication.\nIf not passed, the provider will fallback to the callback\\_url provided in the provider options.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"protocol","type":"`string`","description":"Protocol of the incoming authentication request (For example, `https`).","optional":true,"defaultValue":"","expandable":false,"children":[]}]},{"name":"authIdentityProviderService","type":"[AuthIdentityProviderService](../types.AuthIdentityProviderService/page.mdx)","description":"","optional":false,"defaultValue":"","expandable":false,"children":[{"name":"retrieve","type":"(`selector`: ``{ entity_id: string  }``) => Promise&#60;[AuthIdentityDTO](../../../auth/interfaces/auth.AuthIdentityDTO/page.mdx)&#62;","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"create","type":"(`data`: ``{ entity_id: string ; provider_metadata?: Record&#60;string, unknown&#62; ; user_metadata?: Record&#60;string, unknown&#62;  }``) => Promise&#60;[AuthIdentityDTO](../../../auth/interfaces/auth.AuthIdentityDTO/page.mdx)&#62;","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"update","type":"(`entity_id`: `string`, `data`: ``{ provider_metadata?: Record&#60;string, unknown&#62; ; user_metadata?: Record&#60;string, unknown&#62;  }``) => Promise&#60;[AuthIdentityDTO](../../../auth/interfaces/auth.AuthIdentityDTO/page.mdx)&#62;","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"setState","type":"(`key`: `string`, `value`: `Record<string, unknown>`) => Promise&#60;void&#62;","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"getState","type":"(`key`: `string`) => Promise&#60;null \\| Record&#60;string, unknown&#62;&#62;","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]}]}]} expandUrl="https://docs.medusajs.com/learn/fundamentals/data-models/manage-relationships#retrieve-records-of-relation" sectionTitle="validateCallback"/>

#### Returns

<TypeList types={[{"name":"Promise","type":"Promise&#60;[AuthenticationResponse](../types.AuthenticationResponse/page.mdx)&#62;","optional":false,"defaultValue":"","description":"","expandable":false,"children":[{"name":"AuthenticationResponse","type":"[AuthenticationResponse](../types.AuthenticationResponse/page.mdx)","optional":false,"defaultValue":"","description":"The details of the authentication response.","expandable":false,"children":[{"name":"success","type":"`boolean`","description":"Whether the authentication was successful.","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"authIdentity","type":"[AuthIdentityDTO](../../../auth/interfaces/auth.AuthIdentityDTO/page.mdx)","description":"The authenticated user's details.","optional":true,"defaultValue":"","expandable":false,"children":[{"name":"id","type":"`string`","description":"The ID of the auth identity.","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"provider_identities","type":"[ProviderIdentityDTO](../../../auth/interfaces/auth.ProviderIdentityDTO/page.mdx)[]","description":"The list of provider identities linked to the auth identity.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"app_metadata","type":"`Record<string, unknown>`","description":"Holds information related to the actor IDs tied to the auth identity.","optional":true,"defaultValue":"","expandable":false,"children":[]}]},{"name":"error","type":"`string`","description":"If an error occurs during the authentication process,\nwhether within the Auth Module or a third-party provider,\nthe error message is set in this field.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"location","type":"`string`","description":"The URL to redirect to for further authentication action\nwith a third-party provider. This takes precedence before\nthe `success` field.\n\nSo, after checking that authentication is successful,\nyou should check whether this field is defined and, if so, redirect to the\nspecified location.","optional":true,"defaultValue":"","expandable":false,"children":[]}]}]}]} expandUrl="https://docs.medusajs.com/learn/fundamentals/data-models/manage-relationships#retrieve-records-of-relation" sectionTitle="validateCallback"/>
